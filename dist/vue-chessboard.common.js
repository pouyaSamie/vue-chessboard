module.exports=function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.i=function(value){return value},__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=22)}([function(module,__webpack_exports__,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function memo(f){var v=void 0,ret=function(){return void 0===v&&(v=f()),v};return ret.clear=function(){v=void 0},ret}function computeSquareCenter(key,asWhite,bounds){var pos=key2pos(key);return asWhite||(pos[0]=7-pos[0],pos[1]=7-pos[1]),[bounds.left+bounds.width*pos[0]/8+bounds.width/16,bounds.top+bounds.height*(7-pos[1])/8+bounds.height/16]}__webpack_require__.d(__webpack_exports__,"n",function(){return invRanks}),__webpack_require__.d(__webpack_exports__,"o",function(){return allKeys}),__webpack_require__.d(__webpack_exports__,"k",function(){return pos2key}),__webpack_require__.d(__webpack_exports__,"e",function(){return key2pos}),__webpack_require__.d(__webpack_exports__,"l",function(){return allPos}),__webpack_exports__.a=memo,__webpack_require__.d(__webpack_exports__,"s",function(){return timer}),__webpack_require__.d(__webpack_exports__,"j",function(){return opposite}),__webpack_require__.d(__webpack_exports__,"h",function(){return distanceSq}),__webpack_require__.d(__webpack_exports__,"i",function(){return samePiece}),__webpack_require__.d(__webpack_exports__,"d",function(){return posToTranslateAbs}),__webpack_require__.d(__webpack_exports__,"p",function(){return posToTranslateRel}),__webpack_require__.d(__webpack_exports__,"c",function(){return translateAbs}),__webpack_require__.d(__webpack_exports__,"q",function(){return translateRel}),__webpack_require__.d(__webpack_exports__,"f",function(){return setVisible}),__webpack_require__.d(__webpack_exports__,"b",function(){return eventPosition}),__webpack_require__.d(__webpack_exports__,"m",function(){return isRightButton}),__webpack_require__.d(__webpack_exports__,"r",function(){return createEl}),__webpack_exports__.g=computeSquareCenter;var _Array$prototype,__WEBPACK_IMPORTED_MODULE_0__types__=__webpack_require__(4),invRanks=[].concat(_toConsumableArray(__WEBPACK_IMPORTED_MODULE_0__types__.a)).reverse(),allKeys=(_Array$prototype=Array.prototype).concat.apply(_Array$prototype,_toConsumableArray(__WEBPACK_IMPORTED_MODULE_0__types__.b.map(function(c){return __WEBPACK_IMPORTED_MODULE_0__types__.a.map(function(r){return c+r})}))),pos2key=function(pos){return allKeys[8*pos[0]+pos[1]]},key2pos=function(k){return[k.charCodeAt(0)-97,k.charCodeAt(1)-49]},allPos=allKeys.map(key2pos),timer=function(){var startAt=void 0;return{start:function(){startAt=performance.now()},cancel:function(){startAt=void 0},stop:function(){if(!startAt)return 0;var time=performance.now()-startAt;return startAt=void 0,time}}},opposite=function(c){return"white"===c?"black":"white"},distanceSq=function(pos1,pos2){var dx=pos1[0]-pos2[0],dy=pos1[1]-pos2[1];return dx*dx+dy*dy},samePiece=function(p1,p2){return p1.role===p2.role&&p1.color===p2.color},posToTranslateBase=function(pos,asWhite,xFactor,yFactor){return[(asWhite?pos[0]:7-pos[0])*xFactor,(asWhite?7-pos[1]:pos[1])*yFactor]},posToTranslateAbs=function(bounds){var xFactor=bounds.width/8,yFactor=bounds.height/8;return function(pos,asWhite){return posToTranslateBase(pos,asWhite,xFactor,yFactor)}},posToTranslateRel=function(pos,asWhite){return posToTranslateBase(pos,asWhite,100,100)},translateAbs=function(el,pos){el.style.transform="translate("+pos[0]+"px,"+pos[1]+"px)"},translateRel=function(el,percents){el.style.transform="translate("+percents[0]+"%,"+percents[1]+"%)"},setVisible=function(el,v){el.style.visibility=v?"visible":"hidden"},eventPosition=function(e){var _a;return e.clientX||0===e.clientX?[e.clientX,e.clientY]:(null===(_a=e.targetTouches)||void 0===_a?void 0:_a[0])?[e.targetTouches[0].clientX,e.targetTouches[0].clientY]:void 0},isRightButton=function(e){return 2===e.buttons||2===e.button},createEl=function(tagName,className){var el=document.createElement(tagName);return className&&(el.className=className),el}},function(module,__webpack_exports__,__webpack_require__){"use strict";function callUserFunction(f){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];f&&setTimeout(function(){return f.apply(void 0,args)},1)}function toggleOrientation(state){state.orientation=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util__.j)(state.orientation),state.animation.current=state.draggable.current=state.selected=void 0}function setPieces(state,pieces){var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=pieces[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var _step$value=_slicedToArray(_step.value,2),key=_step$value[0],piece=_step$value[1];piece?state.pieces.set(key,piece):state.pieces.delete(key)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}}function setCheck(state,color){if(state.check=void 0,!0===color&&(color=state.turnColor),color){var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=state.pieces[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var _step2$value=_slicedToArray(_step2.value,2),_k=_step2$value[0],_p=_step2$value[1];"king"===_p.role&&_p.color===color&&(state.check=_k)}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}}}function setPremove(state,orig,dest,meta){unsetPredrop(state),state.premovable.current=[orig,dest],callUserFunction(state.premovable.events.set,orig,dest,meta)}function unsetPremove(state){state.premovable.current&&(state.premovable.current=void 0,callUserFunction(state.premovable.events.unset))}function setPredrop(state,role,key){unsetPremove(state),state.predroppable.current={role:role,key:key},callUserFunction(state.predroppable.events.set,role,key)}function unsetPredrop(state){var pd=state.predroppable;pd.current&&(pd.current=void 0,callUserFunction(pd.events.unset))}function tryAutoCastle(state,orig,dest){if(!state.autoCastle)return!1;var king=state.pieces.get(orig);if(!king||"king"!==king.role)return!1;var origPos=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util__.e)(orig),destPos=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util__.e)(dest);if(0!==origPos[1]&&7!==origPos[1]||origPos[1]!==destPos[1])return!1;4!==origPos[0]||state.pieces.has(dest)||(6===destPos[0]?dest=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util__.k)([7,destPos[1]]):2===destPos[0]&&(dest=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util__.k)([0,destPos[1]])));var rook=state.pieces.get(dest);return!(!rook||rook.color!==king.color||"rook"!==rook.role)&&(state.pieces.delete(orig),state.pieces.delete(dest),origPos[0]<destPos[0]?(state.pieces.set(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util__.k)([6,destPos[1]]),king),state.pieces.set(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util__.k)([5,destPos[1]]),rook)):(state.pieces.set(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util__.k)([2,destPos[1]]),king),state.pieces.set(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util__.k)([3,destPos[1]]),rook)),!0)}function baseMove(state,orig,dest){var origPiece=state.pieces.get(orig),destPiece=state.pieces.get(dest);if(orig===dest||!origPiece)return!1;var captured=destPiece&&destPiece.color!==origPiece.color?destPiece:void 0;return dest===state.selected&&unselect(state),callUserFunction(state.events.move,orig,dest,captured),tryAutoCastle(state,orig,dest)||(state.pieces.set(dest,origPiece),state.pieces.delete(orig)),state.lastMove=[orig,dest],state.check=void 0,callUserFunction(state.events.change),captured||!0}function baseNewPiece(state,piece,key,force){if(state.pieces.has(key)){if(!force)return!1;state.pieces.delete(key)}return callUserFunction(state.events.dropNewPiece,piece,key),state.pieces.set(key,piece),state.lastMove=[key],state.check=void 0,callUserFunction(state.events.change),state.movable.dests=void 0,state.turnColor=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util__.j)(state.turnColor),!0}function baseUserMove(state,orig,dest){var result=baseMove(state,orig,dest);return result&&(state.movable.dests=void 0,state.turnColor=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util__.j)(state.turnColor),state.animation.current=void 0),result}function userMove(state,orig,dest){if(canMove(state,orig,dest)){var result=baseUserMove(state,orig,dest);if(result){var holdTime=state.hold.stop();unselect(state);var metadata={premove:!1,ctrlKey:state.stats.ctrlKey,holdTime:holdTime};return!0!==result&&(metadata.captured=result),callUserFunction(state.movable.events.after,orig,dest,metadata),!0}}else if(canPremove(state,orig,dest))return setPremove(state,orig,dest,{ctrlKey:state.stats.ctrlKey}),unselect(state),!0;return unselect(state),!1}function dropNewPiece(state,orig,dest,force){var piece=state.pieces.get(orig);piece&&(canDrop(state,orig,dest)||force)?(state.pieces.delete(orig),baseNewPiece(state,piece,dest,force),callUserFunction(state.movable.events.afterNewPiece,piece.role,dest,{premove:!1,predrop:!1})):piece&&canPredrop(state,orig,dest)?setPredrop(state,piece.role,dest):(unsetPremove(state),unsetPredrop(state)),state.pieces.delete(orig),unselect(state)}function selectSquare(state,key,force){if(callUserFunction(state.events.select,key),state.selected){if(state.selected===key&&!state.draggable.enabled)return unselect(state),void state.hold.cancel();if((state.selectable.enabled||force)&&state.selected!==key&&userMove(state,state.selected,key))return void(state.stats.dragged=!1)}(isMovable(state,key)||isPremovable(state,key))&&(setSelected(state,key),state.hold.start())}function setSelected(state,key){state.selected=key,isPremovable(state,key)?state.premovable.dests=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__premove__.a)(state.pieces,key,state.premovable.castle):state.premovable.dests=void 0}function unselect(state){state.selected=void 0,state.premovable.dests=void 0,state.hold.cancel()}function isMovable(state,orig){var piece=state.pieces.get(orig);return!!piece&&("both"===state.movable.color||state.movable.color===piece.color&&state.turnColor===piece.color)}function canMove(state,orig,dest){var _a,_b;return orig!==dest&&isMovable(state,orig)&&(state.movable.free||!!(null===(_b=null===(_a=state.movable.dests)||void 0===_a?void 0:_a.get(orig))||void 0===_b?void 0:_b.includes(dest)))}function canDrop(state,orig,dest){var piece=state.pieces.get(orig);return!(!piece||orig!==dest&&state.pieces.has(dest)||"both"!==state.movable.color&&(state.movable.color!==piece.color||state.turnColor!==piece.color))}function isPremovable(state,orig){var piece=state.pieces.get(orig);return!!piece&&state.premovable.enabled&&state.movable.color===piece.color&&state.turnColor!==piece.color}function canPremove(state,orig,dest){return orig!==dest&&isPremovable(state,orig)&&__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__premove__.a)(state.pieces,orig,state.premovable.castle).includes(dest)}function canPredrop(state,orig,dest){var piece=state.pieces.get(orig),destPiece=state.pieces.get(dest);return!!piece&&(!destPiece||destPiece.color!==state.movable.color)&&state.predroppable.enabled&&("pawn"!==piece.role||"1"!==dest[1]&&"8"!==dest[1])&&state.movable.color===piece.color&&state.turnColor!==piece.color}function isDraggable(state,orig){var piece=state.pieces.get(orig);return!!piece&&state.draggable.enabled&&("both"===state.movable.color||state.movable.color===piece.color&&(state.turnColor===piece.color||state.premovable.enabled))}function playPremove(state){var move=state.premovable.current;if(!move)return!1;var orig=move[0],dest=move[1],success=!1;if(canMove(state,orig,dest)){var result=baseUserMove(state,orig,dest);if(result){var metadata={premove:!0};!0!==result&&(metadata.captured=result),callUserFunction(state.movable.events.after,orig,dest,metadata),success=!0}}return unsetPremove(state),success}function playPredrop(state,validate){var drop=state.predroppable.current,success=!1;if(!drop)return!1;if(validate(drop)){baseNewPiece(state,{role:drop.role,color:state.movable.color},drop.key)&&(callUserFunction(state.movable.events.afterNewPiece,drop.role,drop.key,{premove:!1,predrop:!0}),success=!0)}return unsetPredrop(state),success}function cancelMove(state){unsetPremove(state),unsetPredrop(state),unselect(state)}function stop(state){state.movable.color=state.movable.dests=state.animation.current=void 0,cancelMove(state)}function getKeyAtDomPos(pos,asWhite,bounds){var file=Math.floor(8*(pos[0]-bounds.left)/bounds.width);asWhite||(file=7-file);var rank=7-Math.floor(8*(pos[1]-bounds.top)/bounds.height);return asWhite||(rank=7-rank),file>=0&&file<8&&rank>=0&&rank<8?__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util__.k)([file,rank]):void 0}function getSnappedKeyAtDomPos(orig,pos,asWhite,bounds){var origPos=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util__.e)(orig),validSnapPos=__WEBPACK_IMPORTED_MODULE_0__util__.l.filter(function(pos2){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__premove__.b)(origPos[0],origPos[1],pos2[0],pos2[1])||__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__premove__.c)(origPos[0],origPos[1],pos2[0],pos2[1])}),validSnapCenters=validSnapPos.map(function(pos2){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util__.g)(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util__.k)(pos2),asWhite,bounds)}),validSnapDistances=validSnapCenters.map(function(pos2){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util__.h)(pos,pos2)}),_validSnapDistances$r=validSnapDistances.reduce(function(a,b,index){return a[0]<b?a:[b,index]},[validSnapDistances[0],0]),_validSnapDistances$r2=_slicedToArray(_validSnapDistances$r,2),closestSnapIndex=_validSnapDistances$r2[1];return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util__.k)(validSnapPos[closestSnapIndex])}function whitePov(s){return"white"===s.orientation}__webpack_exports__.s=callUserFunction,__webpack_exports__.a=toggleOrientation,__webpack_exports__.b=setPieces,__webpack_exports__.u=setCheck,__webpack_exports__.i=unsetPremove,__webpack_exports__.j=unsetPredrop,__webpack_exports__.e=baseMove,__webpack_exports__.f=baseNewPiece,__webpack_exports__.r=userMove,__webpack_exports__.q=dropNewPiece,__webpack_exports__.c=selectSquare,__webpack_exports__.v=setSelected,__webpack_exports__.d=unselect,__webpack_exports__.o=canMove,__webpack_exports__.p=isDraggable,__webpack_exports__.g=playPremove,__webpack_exports__.h=playPredrop,__webpack_exports__.k=cancelMove,__webpack_exports__.l=stop,__webpack_exports__.m=getKeyAtDomPos,__webpack_exports__.t=getSnappedKeyAtDomPos,__webpack_exports__.n=whitePov;var __WEBPACK_IMPORTED_MODULE_0__util__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_1__premove__=__webpack_require__(16),_slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(module,__webpack_exports__,__webpack_require__){"use strict";function start(s,e){if(e.isTrusted&&(void 0===e.button||0===e.button)&&!(e.touches&&e.touches.length>1)){var bounds=s.dom.bounds(),position=__WEBPACK_IMPORTED_MODULE_1__util__.b(e),orig=__WEBPACK_IMPORTED_MODULE_0__board__.m(position,__WEBPACK_IMPORTED_MODULE_0__board__.n(s),bounds);if(orig){var piece=s.pieces.get(orig),previouslySelected=s.selected;previouslySelected||!s.drawable.enabled||!s.drawable.eraseOnClick&&piece&&piece.color===s.turnColor||__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__draw__.a)(s),!1===e.cancelable||e.touches&&s.movable.color&&!piece&&!previouslySelected&&!pieceCloseTo(s,position)||e.preventDefault();var hadPremove=!!s.premovable.current,hadPredrop=!!s.predroppable.current;s.stats.ctrlKey=e.ctrlKey,s.selected&&__WEBPACK_IMPORTED_MODULE_0__board__.o(s,s.selected,orig)?__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__anim__.a)(function(state){return __WEBPACK_IMPORTED_MODULE_0__board__.c(state,orig)},s):__WEBPACK_IMPORTED_MODULE_0__board__.c(s,orig);var stillSelected=s.selected===orig,element=pieceElementByKey(s,orig);if(piece&&element&&stillSelected&&__WEBPACK_IMPORTED_MODULE_0__board__.p(s,orig)){s.draggable.current={orig:orig,piece:piece,origPos:position,pos:position,started:s.draggable.autoDistance&&s.stats.dragged,element:element,previouslySelected:previouslySelected,originTarget:e.target},element.cgDragging=!0,element.classList.add("dragging");var ghost=s.dom.elements.ghost;ghost&&(ghost.className="ghost "+piece.color+" "+piece.role,__WEBPACK_IMPORTED_MODULE_1__util__.c(ghost,__WEBPACK_IMPORTED_MODULE_1__util__.d(bounds)(__WEBPACK_IMPORTED_MODULE_1__util__.e(orig),__WEBPACK_IMPORTED_MODULE_0__board__.n(s))),__WEBPACK_IMPORTED_MODULE_1__util__.f(ghost,!0)),processDrag(s)}else hadPremove&&__WEBPACK_IMPORTED_MODULE_0__board__.i(s),hadPredrop&&__WEBPACK_IMPORTED_MODULE_0__board__.j(s);s.dom.redraw()}}}function pieceCloseTo(s,pos){var asWhite=__WEBPACK_IMPORTED_MODULE_0__board__.n(s),bounds=s.dom.bounds(),radiusSq=Math.pow(bounds.width/8,2);for(var key in s.pieces){var center=__WEBPACK_IMPORTED_MODULE_1__util__.g(key,asWhite,bounds);if(__WEBPACK_IMPORTED_MODULE_1__util__.h(center,pos)<=radiusSq)return!0}return!1}function dragNewPiece(s,piece,e,force){s.pieces.set("a0",piece),s.dom.redraw();var position=__WEBPACK_IMPORTED_MODULE_1__util__.b(e);s.draggable.current={orig:"a0",piece:piece,origPos:position,pos:position,started:!0,element:function(){return pieceElementByKey(s,"a0")},originTarget:e.target,newPiece:!0,force:!!force},processDrag(s)}function processDrag(s){requestAnimationFrame(function(){var _a,cur=s.draggable.current;if(cur){(null===(_a=s.animation.current)||void 0===_a?void 0:_a.plan.anims.has(cur.orig))&&(s.animation.current=void 0);var origPiece=s.pieces.get(cur.orig);if(origPiece&&__WEBPACK_IMPORTED_MODULE_1__util__.i(origPiece,cur.piece)){if(!cur.started&&__WEBPACK_IMPORTED_MODULE_1__util__.h(cur.pos,cur.origPos)>=Math.pow(s.draggable.distance,2)&&(cur.started=!0),cur.started){if("function"==typeof cur.element){var found=cur.element();if(!found)return;found.cgDragging=!0,found.classList.add("dragging"),cur.element=found}var bounds=s.dom.bounds();__WEBPACK_IMPORTED_MODULE_1__util__.c(cur.element,[cur.pos[0]-bounds.left-bounds.width/16,cur.pos[1]-bounds.top-bounds.height/16])}}else cancel(s);processDrag(s)}})}function move(s,e){s.draggable.current&&(!e.touches||e.touches.length<2)&&(s.draggable.current.pos=__WEBPACK_IMPORTED_MODULE_1__util__.b(e))}function end(s,e){var cur=s.draggable.current;if(cur){if("touchend"===e.type&&!1!==e.cancelable&&e.preventDefault(),"touchend"===e.type&&cur.originTarget!==e.target&&!cur.newPiece)return void(s.draggable.current=void 0);__WEBPACK_IMPORTED_MODULE_0__board__.i(s),__WEBPACK_IMPORTED_MODULE_0__board__.j(s);var eventPos=__WEBPACK_IMPORTED_MODULE_1__util__.b(e)||cur.pos,dest=__WEBPACK_IMPORTED_MODULE_0__board__.m(eventPos,__WEBPACK_IMPORTED_MODULE_0__board__.n(s),s.dom.bounds());dest&&cur.started&&cur.orig!==dest?cur.newPiece?__WEBPACK_IMPORTED_MODULE_0__board__.q(s,cur.orig,dest,cur.force):(s.stats.ctrlKey=e.ctrlKey,__WEBPACK_IMPORTED_MODULE_0__board__.r(s,cur.orig,dest)&&(s.stats.dragged=!0)):cur.newPiece?s.pieces.delete(cur.orig):s.draggable.deleteOnDropOff&&!dest&&(s.pieces.delete(cur.orig),__WEBPACK_IMPORTED_MODULE_0__board__.s(s.events.change)),cur.orig!==cur.previouslySelected||cur.orig!==dest&&dest?s.selectable.enabled||__WEBPACK_IMPORTED_MODULE_0__board__.d(s):__WEBPACK_IMPORTED_MODULE_0__board__.d(s),removeDragElements(s),s.draggable.current=void 0,s.dom.redraw()}}function cancel(s){var cur=s.draggable.current;cur&&(cur.newPiece&&s.pieces.delete(cur.orig),s.draggable.current=void 0,__WEBPACK_IMPORTED_MODULE_0__board__.d(s),removeDragElements(s),s.dom.redraw())}function removeDragElements(s){var e=s.dom.elements;e.ghost&&__WEBPACK_IMPORTED_MODULE_1__util__.f(e.ghost,!1)}function pieceElementByKey(s,key){for(var el=s.dom.elements.board.firstChild;el;){if(el.cgKey===key&&"PIECE"===el.tagName)return el;el=el.nextSibling}}__webpack_exports__.e=start,__webpack_exports__.b=dragNewPiece,__webpack_exports__.c=move,__webpack_exports__.d=end,__webpack_exports__.a=cancel;var __WEBPACK_IMPORTED_MODULE_0__board__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_1__util__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_2__draw__=__webpack_require__(7),__WEBPACK_IMPORTED_MODULE_3__anim__=__webpack_require__(5)},function(module,__webpack_exports__,__webpack_require__){"use strict";function read(fen){"start"===fen&&(fen=initial);var pieces=new Map,row=7,col=0,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=fen[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var c=_step.value;switch(c){case" ":return pieces;case"/":if(--row<0)return pieces;col=0;break;case"~":var piece=pieces.get(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util__.k)([col,row]));piece&&(piece.promoted=!0);break;default:var nb=c.charCodeAt(0);if(nb<57)col+=nb-48;else{var role=c.toLowerCase();pieces.set(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util__.k)([col,row]),{role:roles[role],color:c===role?"black":"white"}),++col}}}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return pieces}function write(pieces){return __WEBPACK_IMPORTED_MODULE_0__util__.n.map(function(y){return __WEBPACK_IMPORTED_MODULE_1__types__.b.map(function(x){var piece=pieces.get(x+y);if(piece){var letter=letters[piece.role];return"white"===piece.color?letter.toUpperCase():letter}return"1"}).join("")}).join("/").replace(/1{2,}/g,function(s){return s.length.toString()})}__webpack_require__.d(__webpack_exports__,"c",function(){return initial}),__webpack_exports__.b=read,__webpack_exports__.a=write;var __WEBPACK_IMPORTED_MODULE_0__util__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_1__types__=__webpack_require__(4),initial="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR",roles={p:"pawn",r:"rook",n:"knight",b:"bishop",q:"queen",k:"king"},letters={pawn:"p",rook:"r",knight:"n",bishop:"b",queen:"q",king:"k"}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",function(){return colors}),__webpack_require__.d(__webpack_exports__,"b",function(){return files}),__webpack_require__.d(__webpack_exports__,"a",function(){return ranks});var colors=["white","black"],files=["a","b","c","d","e","f","g","h"],ranks=["1","2","3","4","5","6","7","8"]},function(module,__webpack_exports__,__webpack_require__){"use strict";function anim(mutation,state){return state.animation.enabled?animate(mutation,state):render(mutation,state)}function render(mutation,state){var result=mutation(state);return state.dom.redraw(),result}function makePiece(key,piece){return{key:key,pos:__WEBPACK_IMPORTED_MODULE_0__util__.e(key),piece:piece}}function closer(piece,pieces){return pieces.sort(function(p1,p2){return __WEBPACK_IMPORTED_MODULE_0__util__.h(piece.pos,p1.pos)-__WEBPACK_IMPORTED_MODULE_0__util__.h(piece.pos,p2.pos)})[0]}function computePlan(prevPieces,current){var anims=new Map,animedOrigs=[],fadings=new Map,missings=[],news=[],prePieces=new Map,curP=void 0,preP=void 0,vector=void 0,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=prevPieces[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var _step$value=_slicedToArray(_step.value,2),k=_step$value[0],p=_step$value[1];prePieces.set(k,makePiece(k,p))}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=__WEBPACK_IMPORTED_MODULE_0__util__.o[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var key=_step2.value;curP=current.pieces.get(key),preP=prePieces.get(key),curP?preP?__WEBPACK_IMPORTED_MODULE_0__util__.i(curP,preP.piece)||(missings.push(preP),news.push(makePiece(key,curP))):news.push(makePiece(key,curP)):preP&&missings.push(preP)}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}var _iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=news[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0)!function(){var newP=_step3.value;(preP=closer(newP,missings.filter(function(p){return __WEBPACK_IMPORTED_MODULE_0__util__.i(newP.piece,p.piece)})))&&(vector=[preP.pos[0]-newP.pos[0],preP.pos[1]-newP.pos[1]],anims.set(newP.key,vector.concat(vector)),animedOrigs.push(preP.key))}()}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{!_iteratorNormalCompletion3&&_iterator3.return&&_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}var _iteratorNormalCompletion4=!0,_didIteratorError4=!1,_iteratorError4=void 0;try{for(var _step4,_iterator4=missings[Symbol.iterator]();!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=!0){var p=_step4.value;animedOrigs.includes(p.key)||fadings.set(p.key,p.piece)}}catch(err){_didIteratorError4=!0,_iteratorError4=err}finally{try{!_iteratorNormalCompletion4&&_iterator4.return&&_iterator4.return()}finally{if(_didIteratorError4)throw _iteratorError4}}return{anims:anims,fadings:fadings}}function step(state,now){var cur=state.animation.current;if(void 0===cur)return void(state.dom.destroyed||state.dom.redrawNow());var rest=1-(now-cur.start)*cur.frequency;if(rest<=0)state.animation.current=void 0,state.dom.redrawNow();else{var ease=easing(rest),_iteratorNormalCompletion5=!0,_didIteratorError5=!1,_iteratorError5=void 0;try{for(var _step5,_iterator5=cur.plan.anims.values()[Symbol.iterator]();!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=!0){var cfg=_step5.value;cfg[2]=cfg[0]*ease,cfg[3]=cfg[1]*ease}}catch(err){_didIteratorError5=!0,_iteratorError5=err}finally{try{!_iteratorNormalCompletion5&&_iterator5.return&&_iterator5.return()}finally{if(_didIteratorError5)throw _iteratorError5}}state.dom.redrawNow(!0),requestAnimationFrame(function(){var now=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now();return step(state,now)})}}function animate(mutation,state){var prevPieces=new Map(state.pieces),result=mutation(state),plan=computePlan(prevPieces,state);if(plan.anims.size||plan.fadings.size){var alreadyRunning=state.animation.current&&state.animation.current.start;state.animation.current={start:performance.now(),frequency:1/state.animation.duration,plan:plan},alreadyRunning||step(state,performance.now())}else state.dom.redraw();return result}function easing(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1}__webpack_exports__.a=anim,__webpack_exports__.b=render;var __WEBPACK_IMPORTED_MODULE_0__util__=__webpack_require__(0),_slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(module,__webpack_exports__,__webpack_require__){"use strict";function configure(state,config){var _a,_b;if((null===(_a=config.movable)||void 0===_a?void 0:_a.dests)&&(state.movable.dests=void 0),(null===(_b=config.drawable)||void 0===_b?void 0:_b.autoShapes)&&(state.drawable.autoShapes=[]),merge(state,config),config.fen&&(state.pieces=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__fen__.b)(config.fen),state.drawable.shapes=[]),"check"in config&&__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__board__.u)(state,config.check||!1),"lastMove"in config&&!config.lastMove?state.lastMove=void 0:config.lastMove&&(state.lastMove=config.lastMove),state.selected&&__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__board__.v)(state,state.selected),(!state.animation.duration||state.animation.duration<100)&&(state.animation.enabled=!1),!state.movable.rookCastle&&state.movable.dests){var rank="white"===state.movable.color?"1":"8",kingStartPos="e"+rank,dests=state.movable.dests.get(kingStartPos),king=state.pieces.get(kingStartPos);if(!dests||!king||"king"!==king.role)return;state.movable.dests.set(kingStartPos,dests.filter(function(d){return!(d==="a"+rank&&dests.includes("c"+rank)||d==="h"+rank&&dests.includes("g"+rank))}))}}function merge(base,extend){for(var key in extend)isObject(base[key])&&isObject(extend[key])?merge(base[key],extend[key]):base[key]=extend[key]}function isObject(o){return"object"===(void 0===o?"undefined":_typeof(o))}__webpack_exports__.a=configure;var __WEBPACK_IMPORTED_MODULE_0__board__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_1__fen__=__webpack_require__(3),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}},function(module,__webpack_exports__,__webpack_require__){"use strict";function start(state,e){if(!(e.touches&&e.touches.length>1)){e.stopPropagation(),e.preventDefault(),e.ctrlKey?__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__board__.d)(state):__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__board__.k)(state);var pos=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__util__.b)(e),orig=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__board__.m)(pos,__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__board__.n)(state),state.dom.bounds());orig&&(state.drawable.current={orig:orig,pos:pos,brush:eventBrush(e),snapToValidMove:state.drawable.defaultSnapToValidMove},processDraw(state))}}function processDraw(state){requestAnimationFrame(function(){var cur=state.drawable.current;if(cur){var keyAtDomPos=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__board__.m)(cur.pos,__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__board__.n)(state),state.dom.bounds());keyAtDomPos||(cur.snapToValidMove=!1);var mouseSq=cur.snapToValidMove?__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__board__.t)(cur.orig,cur.pos,__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__board__.n)(state),state.dom.bounds()):keyAtDomPos;mouseSq!==cur.mouseSq&&(cur.mouseSq=mouseSq,cur.dest=mouseSq!==cur.orig?mouseSq:void 0,state.dom.redrawNow()),processDraw(state)}})}function move(state,e){state.drawable.current&&(state.drawable.current.pos=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__util__.b)(e))}function end(state){var cur=state.drawable.current;cur&&(cur.mouseSq&&addShape(state.drawable,cur),cancel(state))}function cancel(state){state.drawable.current&&(state.drawable.current=void 0,state.dom.redraw())}function clear(state){state.drawable.shapes.length&&(state.drawable.shapes=[],state.dom.redraw(),onChange(state.drawable))}function eventBrush(e){var _a,modA=(e.shiftKey||e.ctrlKey)&&__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__util__.m)(e),modB=e.altKey||e.metaKey||(null===(_a=e.getModifierState)||void 0===_a?void 0:_a.call(e,"AltGraph"));return brushes[(modA?1:0)+(modB?2:0)]}function addShape(drawable,cur){var sameShape=function(s){return s.orig===cur.orig&&s.dest===cur.dest},similar=drawable.shapes.find(sameShape);similar&&(drawable.shapes=drawable.shapes.filter(function(s){return!sameShape(s)})),similar&&similar.brush===cur.brush||drawable.shapes.push(cur),onChange(drawable)}function onChange(drawable){drawable.onChange&&drawable.onChange(drawable.shapes)}__webpack_exports__.e=start,__webpack_exports__.b=move,__webpack_exports__.c=end,__webpack_exports__.d=cancel,__webpack_exports__.a=clear;var __WEBPACK_IMPORTED_MODULE_0__board__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_1__util__=__webpack_require__(0),brushes=["green","red","blue","yellow"]},function(module,__webpack_exports__,__webpack_require__){"use strict";function createElement(tagName){return document.createElementNS("http://www.w3.org/2000/svg",tagName)}function renderSvg(state,svg,customSvg){var d=state.drawable,curD=d.current,cur=curD&&curD.mouseSq?curD:void 0,arrowDests=new Map,bounds=state.dom.bounds(),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=d.shapes.concat(d.autoShapes).concat(cur?[cur]:[])[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var s=_step.value;s.dest&&arrowDests.set(s.dest,(arrowDests.get(s.dest)||0)+1)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}var shapes=d.shapes.concat(d.autoShapes).map(function(s){return{shape:s,current:!1,hash:shapeHash(s,arrowDests,!1,bounds)}});cur&&shapes.push({shape:cur,current:!0,hash:shapeHash(cur,arrowDests,!0,bounds)});var fullHash=shapes.map(function(sc){return sc.hash}).join(";");if(fullHash!==state.drawable.prevSvgHash){state.drawable.prevSvgHash=fullHash;var defsEl=svg.querySelector("defs"),shapesEl=svg.querySelector("g"),customSvgsEl=customSvg.querySelector("g");syncDefs(d,shapes,defsEl),syncShapes(state,shapes.filter(function(s){return!s.shape.customSvg}),d.brushes,arrowDests,shapesEl),syncShapes(state,shapes.filter(function(s){return s.shape.customSvg}),d.brushes,arrowDests,customSvgsEl)}}function syncDefs(d,shapes,defsEl){var brushes=new Map,brush=void 0,_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=shapes[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var s=_step2.value;s.shape.dest&&(brush=d.brushes[s.shape.brush],s.shape.modifiers&&(brush=makeCustomBrush(brush,s.shape.modifiers)),brushes.set(brush.key,brush))}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}for(var keysInDom=new Set,el=defsEl.firstChild;el;)keysInDom.add(el.getAttribute("cgKey")),el=el.nextSibling;var _iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=brushes.entries()[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){var _step3$value=_slicedToArray(_step3.value,2),key=_step3$value[0],_brush=_step3$value[1];keysInDom.has(key)||defsEl.appendChild(renderMarker(_brush))}}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{!_iteratorNormalCompletion3&&_iterator3.return&&_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}}function syncShapes(state,shapes,brushes,arrowDests,root){var bounds=state.dom.bounds(),hashesInDom=new Map,toRemove=[],_iteratorNormalCompletion4=!0,_didIteratorError4=!1,_iteratorError4=void 0;try{for(var _step4,_iterator4=shapes[Symbol.iterator]();!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=!0){var sc=_step4.value;hashesInDom.set(sc.hash,!1)}}catch(err){_didIteratorError4=!0,_iteratorError4=err}finally{try{!_iteratorNormalCompletion4&&_iterator4.return&&_iterator4.return()}finally{if(_didIteratorError4)throw _iteratorError4}}for(var el=root.firstChild,elHash=void 0;el;)elHash=el.getAttribute("cgHash"),hashesInDom.has(elHash)?hashesInDom.set(elHash,!0):toRemove.push(el),el=el.nextSibling;var _iteratorNormalCompletion5=!0,_didIteratorError5=!1,_iteratorError5=void 0;try{for(var _step5,_iterator5=toRemove[Symbol.iterator]();!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=!0){var _el=_step5.value;root.removeChild(_el)}}catch(err){_didIteratorError5=!0,_iteratorError5=err}finally{try{!_iteratorNormalCompletion5&&_iterator5.return&&_iterator5.return()}finally{if(_didIteratorError5)throw _iteratorError5}}var _iteratorNormalCompletion6=!0,_didIteratorError6=!1,_iteratorError6=void 0;try{for(var _step6,_iterator6=shapes[Symbol.iterator]();!(_iteratorNormalCompletion6=(_step6=_iterator6.next()).done);_iteratorNormalCompletion6=!0){var _sc=_step6.value;hashesInDom.get(_sc.hash)||root.appendChild(renderShape(state,_sc,brushes,arrowDests,bounds))}}catch(err){_didIteratorError6=!0,_iteratorError6=err}finally{try{!_iteratorNormalCompletion6&&_iterator6.return&&_iterator6.return()}finally{if(_didIteratorError6)throw _iteratorError6}}}function shapeHash(_ref,arrowDests,current,bounds){var orig=_ref.orig,dest=_ref.dest,brush=_ref.brush,piece=_ref.piece,modifiers=_ref.modifiers,customSvg=_ref.customSvg;return[bounds.width,bounds.height,current,orig,dest,brush,dest&&(arrowDests.get(dest)||0)>1,piece&&pieceHash(piece),modifiers&&modifiersHash(modifiers),customSvg&&customSvgHash(customSvg)].filter(function(x){return x}).join(",")}function pieceHash(piece){return[piece.color,piece.role,piece.scale].filter(function(x){return x}).join(",")}function modifiersHash(m){return""+(m.lineWidth||"")}function customSvgHash(s){for(var h=0,i=0;i<s.length;i++)h=(h<<5)-h+s.charCodeAt(i)>>>0;return"custom-"+h.toString()}function renderShape(state,_ref2,brushes,arrowDests,bounds){var shape=_ref2.shape,current=_ref2.current,hash=_ref2.hash,el=void 0;if(shape.customSvg){var orig=orient(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util__.e)(shape.orig),state.orientation);el=renderCustomSvg(shape.customSvg,orig,bounds)}else if(shape.piece)el=renderPiece(state.drawable.pieces.baseUrl,orient(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util__.e)(shape.orig),state.orientation),shape.piece,bounds);else{var _orig=orient(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util__.e)(shape.orig),state.orientation);if(shape.dest){var brush=brushes[shape.brush];shape.modifiers&&(brush=makeCustomBrush(brush,shape.modifiers)),el=renderArrow(brush,_orig,orient(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util__.e)(shape.dest),state.orientation),current,(arrowDests.get(shape.dest)||0)>1,bounds)}else el=renderCircle(brushes[shape.brush],_orig,current,bounds)}return el.setAttribute("cgHash",hash),el}function renderCustomSvg(customSvg,pos,bounds){var width=bounds.width,height=bounds.height,w=width/8,h=height/8,x=pos[0]*w,y=(7-pos[1])*h,g=setAttributes(createElement("g"),{transform:"translate("+x+","+y+")"}),svg=setAttributes(createElement("svg"),{width:w,height:h,viewBox:"0 0 100 100"});return g.appendChild(svg),svg.innerHTML=customSvg,g}function renderCircle(brush,pos,current,bounds){var o=pos2px(pos,bounds),widths=circleWidth(bounds),radius=(bounds.width+bounds.height)/32;return setAttributes(createElement("circle"),{stroke:brush.color,"stroke-width":widths[current?0:1],fill:"none",opacity:opacity(brush,current),cx:o[0],cy:o[1],r:radius-widths[1]/2})}function renderArrow(brush,orig,dest,current,shorten,bounds){var m=arrowMargin(bounds,shorten&&!current),a=pos2px(orig,bounds),b=pos2px(dest,bounds),dx=b[0]-a[0],dy=b[1]-a[1],angle=Math.atan2(dy,dx),xo=Math.cos(angle)*m,yo=Math.sin(angle)*m;return setAttributes(createElement("line"),{stroke:brush.color,"stroke-width":lineWidth(brush,current,bounds),"stroke-linecap":"round","marker-end":"url(#arrowhead-"+brush.key+")",opacity:opacity(brush,current),x1:a[0],y1:a[1],x2:b[0]-xo,y2:b[1]-yo})}function renderPiece(baseUrl,pos,piece,bounds){var o=pos2px(pos,bounds),size=bounds.width/8*(piece.scale||1),name=piece.color[0]+("knight"===piece.role?"n":piece.role[0]).toUpperCase();return setAttributes(createElement("image"),{className:piece.role+" "+piece.color,x:o[0]-size/2,y:o[1]-size/2,width:size,height:size,href:baseUrl+name+".svg"})}function renderMarker(brush){var marker=setAttributes(createElement("marker"),{id:"arrowhead-"+brush.key,orient:"auto",markerWidth:4,markerHeight:8,refX:2.05,refY:2.01});return marker.appendChild(setAttributes(createElement("path"),{d:"M0,0 V4 L3,2 Z",fill:brush.color})),marker.setAttribute("cgKey",brush.key),marker}function setAttributes(el,attrs){for(var key in attrs)el.setAttribute(key,attrs[key]);return el}function orient(pos,color){return"white"===color?pos:[7-pos[0],7-pos[1]]}function makeCustomBrush(base,modifiers){return{color:base.color,opacity:Math.round(10*base.opacity)/10,lineWidth:Math.round(modifiers.lineWidth||base.lineWidth),key:[base.key,modifiers.lineWidth].filter(function(x){return x}).join("")}}function circleWidth(bounds){var base=bounds.width/512;return[3*base,4*base]}function lineWidth(brush,current,bounds){return(brush.lineWidth||10)*(current?.85:1)/512*bounds.width}function opacity(brush,current){return(brush.opacity||1)*(current?.9:1)}function arrowMargin(bounds,shorten){return(shorten?20:10)/512*bounds.width}function pos2px(pos,bounds){return[(pos[0]+.5)*bounds.width/8,(7.5-pos[1])*bounds.height/8]}__webpack_exports__.c=createElement,__webpack_exports__.a=renderSvg,__webpack_exports__.b=setAttributes;var __WEBPACK_IMPORTED_MODULE_0__util__=__webpack_require__(0),_slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(module,exports,__webpack_require__){var Component=__webpack_require__(23)(__webpack_require__(20),__webpack_require__(24),null,null);module.exports=Component.exports},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__,_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},Chess=function(fen){function _clear(){board=new Array(128),kings={w:EMPTY,b:EMPTY},_turn=WHITE,castling={w:0,b:0},ep_square=EMPTY,half_moves=0,move_number=1,_history=[],header={},update_setup(generate_fen())}function _reset(){_load(DEFAULT_POSITION)}function _load(fen){var tokens=fen.split(/\s+/),position=tokens[0],square=0;if(!_validate_fen(fen).valid)return!1;_clear();for(var i=0;i<position.length;i++){var piece=position.charAt(i);if("/"===piece)square+=8;else if(is_digit(piece))square+=parseInt(piece,10);else{var color=piece<"a"?WHITE:BLACK;_put({type:piece.toLowerCase(),color:color},algebraic(square)),square++}}return _turn=tokens[1],tokens[2].indexOf("K")>-1&&(castling.w|=BITS.KSIDE_CASTLE),tokens[2].indexOf("Q")>-1&&(castling.w|=BITS.QSIDE_CASTLE),tokens[2].indexOf("k")>-1&&(castling.b|=BITS.KSIDE_CASTLE),tokens[2].indexOf("q")>-1&&(castling.b|=BITS.QSIDE_CASTLE),ep_square="-"===tokens[3]?EMPTY:SQUARES[tokens[3]],half_moves=parseInt(tokens[4],10),move_number=parseInt(tokens[5],10),update_setup(generate_fen()),!0}function _validate_fen(fen){var errors={0:"No errors.",1:"FEN string must contain six space-delimited fields.",2:"6th field (move number) must be a positive integer.",3:"5th field (half move counter) must be a non-negative integer.",4:"4th field (en-passant square) is invalid.",5:"3rd field (castling availability) is invalid.",6:"2nd field (side to move) is invalid.",7:"1st field (piece positions) does not contain 8 '/'-delimited rows.",8:"1st field (piece positions) is invalid [consecutive numbers].",9:"1st field (piece positions) is invalid [invalid piece].",10:"1st field (piece positions) is invalid [row too large].",11:"Illegal en-passant square"},tokens=fen.split(/\s+/);if(6!==tokens.length)return{valid:!1,error_number:1,error:errors[1]};if(isNaN(tokens[5])||parseInt(tokens[5],10)<=0)return{valid:!1,error_number:2,error:errors[2]};if(isNaN(tokens[4])||parseInt(tokens[4],10)<0)return{valid:!1,error_number:3,error:errors[3]};if(!/^(-|[abcdefgh][36])$/.test(tokens[3]))return{valid:!1,error_number:4,error:errors[4]};if(!/^(KQ?k?q?|Qk?q?|kq?|q|-)$/.test(tokens[2]))return{valid:!1,error_number:5,error:errors[5]};if(!/^(w|b)$/.test(tokens[1]))return{valid:!1,error_number:6,error:errors[6]};var rows=tokens[0].split("/");if(8!==rows.length)return{valid:!1,error_number:7,error:errors[7]};for(var i=0;i<rows.length;i++){for(var sum_fields=0,previous_was_number=!1,k=0;k<rows[i].length;k++)if(isNaN(rows[i][k])){if(!/^[prnbqkPRNBQK]$/.test(rows[i][k]))return{valid:!1,error_number:9,error:errors[9]};sum_fields+=1,previous_was_number=!1}else{if(previous_was_number)return{valid:!1,error_number:8,error:errors[8]};sum_fields+=parseInt(rows[i][k],10),previous_was_number=!0}if(8!==sum_fields)return{valid:!1,error_number:10,error:errors[10]}}return"3"==tokens[3][1]&&"w"==tokens[1]||"6"==tokens[3][1]&&"b"==tokens[1]?{valid:!1,error_number:11,error:errors[11]}:{valid:!0,error_number:0,error:errors[0]}}function generate_fen(){for(var empty=0,fen="",i=SQUARES.a8;i<=SQUARES.h1;i++){if(null==board[i])empty++;else{empty>0&&(fen+=empty,empty=0);var color=board[i].color,piece=board[i].type;fen+=color===WHITE?piece.toUpperCase():piece.toLowerCase()}i+1&136&&(empty>0&&(fen+=empty),i!==SQUARES.h1&&(fen+="/"),empty=0,i+=8)}var cflags="";castling[WHITE]&BITS.KSIDE_CASTLE&&(cflags+="K"),castling[WHITE]&BITS.QSIDE_CASTLE&&(cflags+="Q"),castling[BLACK]&BITS.KSIDE_CASTLE&&(cflags+="k"),castling[BLACK]&BITS.QSIDE_CASTLE&&(cflags+="q"),cflags=cflags||"-";var epflags=ep_square===EMPTY?"-":algebraic(ep_square);return[fen,_turn,cflags,epflags,half_moves,move_number].join(" ")}function set_header(args){for(var i=0;i<args.length;i+=2)"string"==typeof args[i]&&"string"==typeof args[i+1]&&(header[args[i]]=args[i+1]);return header}function update_setup(fen){_history.length>0||(fen!==DEFAULT_POSITION?(header.SetUp="1",header.FEN=fen):(delete header.SetUp,delete header.FEN))}function _get(square){var piece=board[SQUARES[square]];return piece?{type:piece.type,color:piece.color}:null}function _put(piece,square){if(!("type"in piece&&"color"in piece))return!1;if(-1===SYMBOLS.indexOf(piece.type.toLowerCase()))return!1;if(!(square in SQUARES))return!1;var sq=SQUARES[square];return(piece.type!=KING||kings[piece.color]==EMPTY||kings[piece.color]==sq)&&(board[sq]={type:piece.type,color:piece.color},piece.type===KING&&(kings[piece.color]=sq),update_setup(generate_fen()),!0)}function _remove(square){var piece=_get(square);return board[SQUARES[square]]=null,piece&&piece.type===KING&&(kings[piece.color]=EMPTY),update_setup(generate_fen()),piece}function build_move(board,from,to,flags,promotion){var move={color:_turn,from:from,to:to,flags:flags,piece:board[from].type};return promotion&&(move.flags|=BITS.PROMOTION,move.promotion=promotion),board[to]?move.captured=board[to].type:flags&BITS.EP_CAPTURE&&(move.captured=PAWN),move}function generate_moves(options){function add_move(board,moves,from,to,flags){if(board[from].type!==PAWN||rank(to)!==RANK_8&&rank(to)!==RANK_1)moves.push(build_move(board,from,to,flags));else for(var pieces=[QUEEN,ROOK,BISHOP,KNIGHT],i=0,len=pieces.length;i<len;i++)moves.push(build_move(board,from,to,flags,pieces[i]))}var moves=[],us=_turn,them=swap_color(us),second_rank={b:RANK_7,w:RANK_2},first_sq=SQUARES.a8,last_sq=SQUARES.h1,single_square=!1,legal=!(void 0!==options&&"legal"in options)||options.legal;if(void 0!==options&&"square"in options){if(!(options.square in SQUARES))return[];first_sq=last_sq=SQUARES[options.square],single_square=!0}for(var i=first_sq;i<=last_sq;i++)if(136&i)i+=7;else{var piece=board[i];if(null!=piece&&piece.color===us)if(piece.type===PAWN){var square=i+PAWN_OFFSETS[us][0];if(null==board[square]){add_move(board,moves,i,square,BITS.NORMAL);var square=i+PAWN_OFFSETS[us][1];second_rank[us]===rank(i)&&null==board[square]&&add_move(board,moves,i,square,BITS.BIG_PAWN)}for(j=2;j<4;j++){var square=i+PAWN_OFFSETS[us][j];136&square||(null!=board[square]&&board[square].color===them?add_move(board,moves,i,square,BITS.CAPTURE):square===ep_square&&add_move(board,moves,i,ep_square,BITS.EP_CAPTURE))}}else for(var j=0,len=PIECE_OFFSETS[piece.type].length;j<len;j++)for(var offset=PIECE_OFFSETS[piece.type][j],square=i;;){if(136&(square+=offset))break;if(null!=board[square]){if(board[square].color===us)break;add_move(board,moves,i,square,BITS.CAPTURE);break}if(add_move(board,moves,i,square,BITS.NORMAL),"n"===piece.type||"k"===piece.type)break}}if(!single_square||last_sq===kings[us]){if(castling[us]&BITS.KSIDE_CASTLE){var castling_from=kings[us],castling_to=castling_from+2;null!=board[castling_from+1]||null!=board[castling_to]||attacked(them,kings[us])||attacked(them,castling_from+1)||attacked(them,castling_to)||add_move(board,moves,kings[us],castling_to,BITS.KSIDE_CASTLE)}if(castling[us]&BITS.QSIDE_CASTLE){var castling_from=kings[us],castling_to=castling_from-2;null!=board[castling_from-1]||null!=board[castling_from-2]||null!=board[castling_from-3]||attacked(them,kings[us])||attacked(them,castling_from-1)||attacked(them,castling_to)||add_move(board,moves,kings[us],castling_to,BITS.QSIDE_CASTLE)}}if(!legal)return moves;for(var legal_moves=[],i=0,len=moves.length;i<len;i++)make_move(moves[i]),king_attacked(us)||legal_moves.push(moves[i]),undo_move();return legal_moves}function move_to_san(move,sloppy){var output="";if(move.flags&BITS.KSIDE_CASTLE)output="O-O";else if(move.flags&BITS.QSIDE_CASTLE)output="O-O-O";else{var disambiguator=get_disambiguator(move,sloppy);move.piece!==PAWN&&(output+=move.piece.toUpperCase()+disambiguator),move.flags&(BITS.CAPTURE|BITS.EP_CAPTURE)&&(move.piece===PAWN&&(output+=algebraic(move.from)[0]),output+="x"),output+=algebraic(move.to),move.flags&BITS.PROMOTION&&(output+="="+move.promotion.toUpperCase())}return make_move(move),_in_check()&&(_in_checkmate()?output+="#":output+="+"),undo_move(),output}function stripped_san(move){return move.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}function attacked(color,square){for(var i=SQUARES.a8;i<=SQUARES.h1;i++)if(136&i)i+=7;else if(null!=board[i]&&board[i].color===color){var piece=board[i],difference=i-square,index=difference+119;if(ATTACKS[index]&1<<SHIFTS[piece.type]){if(piece.type===PAWN){if(difference>0){if(piece.color===WHITE)return!0}else if(piece.color===BLACK)return!0;continue}if("n"===piece.type||"k"===piece.type)return!0;for(var offset=RAYS[index],j=i+offset,blocked=!1;j!==square;){if(null!=board[j]){blocked=!0;break}j+=offset}if(!blocked)return!0}}return!1}function king_attacked(color){return attacked(swap_color(color),kings[color])}function _in_check(){return king_attacked(_turn)}function _in_checkmate(){return _in_check()&&0===generate_moves().length}function _in_stalemate(){return!_in_check()&&0===generate_moves().length}function _insufficient_material(){for(var pieces={},bishops=[],num_pieces=0,sq_color=0,i=SQUARES.a8;i<=SQUARES.h1;i++)if(sq_color=(sq_color+1)%2,136&i)i+=7;else{var piece=board[i];piece&&(pieces[piece.type]=piece.type in pieces?pieces[piece.type]+1:1,piece.type===BISHOP&&bishops.push(sq_color),num_pieces++)}if(2===num_pieces)return!0;if(3===num_pieces&&(1===pieces[BISHOP]||1===pieces[KNIGHT]))return!0;if(num_pieces===pieces[BISHOP]+2){for(var sum=0,len=bishops.length,i=0;i<len;i++)sum+=bishops[i];if(0===sum||sum===len)return!0}return!1}function _in_threefold_repetition(){for(var moves=[],positions={},repetition=!1;;){var move=undo_move();if(!move)break;moves.push(move)}for(;;){var fen=generate_fen().split(" ").slice(0,4).join(" ");if(positions[fen]=fen in positions?positions[fen]+1:1,positions[fen]>=3&&(repetition=!0),!moves.length)break;make_move(moves.pop())}return repetition}function push(move){_history.push({move:move,kings:{b:kings.b,w:kings.w},turn:_turn,castling:{b:castling.b,w:castling.w},ep_square:ep_square,half_moves:half_moves,move_number:move_number})}function make_move(move){var us=_turn,them=swap_color(us);if(push(move),board[move.to]=board[move.from],board[move.from]=null,move.flags&BITS.EP_CAPTURE&&(_turn===BLACK?board[move.to-16]=null:board[move.to+16]=null),move.flags&BITS.PROMOTION&&(board[move.to]={type:move.promotion,color:us}),board[move.to].type===KING){if(kings[board[move.to].color]=move.to,move.flags&BITS.KSIDE_CASTLE){var castling_to=move.to-1,castling_from=move.to+1;board[castling_to]=board[castling_from],board[castling_from]=null}else if(move.flags&BITS.QSIDE_CASTLE){var castling_to=move.to+1,castling_from=move.to-2;board[castling_to]=board[castling_from],board[castling_from]=null}castling[us]=""}if(castling[us])for(var i=0,len=ROOKS[us].length;i<len;i++)if(move.from===ROOKS[us][i].square&&castling[us]&ROOKS[us][i].flag){castling[us]^=ROOKS[us][i].flag;break}if(castling[them])for(var i=0,len=ROOKS[them].length;i<len;i++)if(move.to===ROOKS[them][i].square&&castling[them]&ROOKS[them][i].flag){castling[them]^=ROOKS[them][i].flag;break}ep_square=move.flags&BITS.BIG_PAWN?"b"===_turn?move.to-16:move.to+16:EMPTY,move.piece===PAWN?half_moves=0:move.flags&(BITS.CAPTURE|BITS.EP_CAPTURE)?half_moves=0:half_moves++,_turn===BLACK&&move_number++,_turn=swap_color(_turn)}function undo_move(){var old=_history.pop();if(null==old)return null;var move=old.move;kings=old.kings,_turn=old.turn,castling=old.castling,ep_square=old.ep_square,half_moves=old.half_moves,move_number=old.move_number;var us=_turn,them=swap_color(_turn);if(board[move.from]=board[move.to],board[move.from].type=move.piece,board[move.to]=null,move.flags&BITS.CAPTURE)board[move.to]={type:move.captured,color:them};else if(move.flags&BITS.EP_CAPTURE){var index;index=us===BLACK?move.to-16:move.to+16,board[index]={type:PAWN,color:them}}if(move.flags&(BITS.KSIDE_CASTLE|BITS.QSIDE_CASTLE)){var castling_to,castling_from;move.flags&BITS.KSIDE_CASTLE?(castling_to=move.to+1,castling_from=move.to-1):move.flags&BITS.QSIDE_CASTLE&&(castling_to=move.to-2,castling_from=move.to+1),board[castling_to]=board[castling_from],board[castling_from]=null}return move}function get_disambiguator(move,sloppy){for(var moves=generate_moves({legal:!sloppy}),from=move.from,to=move.to,piece=move.piece,ambiguities=0,same_rank=0,same_file=0,i=0,len=moves.length;i<len;i++){var ambig_from=moves[i].from,ambig_to=moves[i].to;piece===moves[i].piece&&from!==ambig_from&&to===ambig_to&&(ambiguities++,rank(from)===rank(ambig_from)&&same_rank++,file(from)===file(ambig_from)&&same_file++)}return ambiguities>0?same_rank>0&&same_file>0?algebraic(from):same_file>0?algebraic(from).charAt(1):algebraic(from).charAt(0):""}function _ascii(){for(var s="   +------------------------+\n",i=SQUARES.a8;i<=SQUARES.h1;i++){if(0===file(i)&&(s+=" "+"87654321"[rank(i)]+" |"),null==board[i])s+=" . ";else{var piece=board[i].type;s+=" "+(board[i].color===WHITE?piece.toUpperCase():piece.toLowerCase())+" "}i+1&136&&(s+="|\n",i+=8)}return s+="   +------------------------+\n",s+="     a  b  c  d  e  f  g  h\n"}function move_from_san(move,sloppy){var clean_move=stripped_san(move);if(sloppy){var matches=clean_move.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/);if(matches)var piece=matches[1],from=matches[2],to=matches[3],promotion=matches[4]}for(var moves=generate_moves(),i=0,len=moves.length;i<len;i++){if(clean_move===stripped_san(move_to_san(moves[i]))||sloppy&&clean_move===stripped_san(move_to_san(moves[i],!0)))return moves[i];if(matches&&(!piece||piece.toLowerCase()==moves[i].piece)&&SQUARES[from]==moves[i].from&&SQUARES[to]==moves[i].to&&(!promotion||promotion.toLowerCase()==moves[i].promotion))return moves[i]}return null}function rank(i){return i>>4}function file(i){return 15&i}function algebraic(i){var f=file(i),r=rank(i);return"abcdefgh".substring(f,f+1)+"87654321".substring(r,r+1)}function swap_color(c){return c===WHITE?BLACK:WHITE}function is_digit(c){return-1!=="0123456789".indexOf(c)}function make_pretty(ugly_move){var move=clone(ugly_move);move.san=move_to_san(move,!1),move.to=algebraic(move.to),move.from=algebraic(move.from);var flags="";for(var flag in BITS)BITS[flag]&move.flags&&(flags+=FLAGS[flag]);return move.flags=flags,move}function clone(obj){var dupe=obj instanceof Array?[]:{};for(var property in obj)"object"===(void 0===property?"undefined":_typeof(property))?dupe[property]=clone(obj[property]):dupe[property]=obj[property];return dupe}function trim(str){return str.replace(/^\s+|\s+$/g,"")}function _perft(depth){for(var moves=generate_moves({legal:!1}),nodes=0,color=_turn,i=0,len=moves.length;i<len;i++){if(make_move(moves[i]),!king_attacked(color))if(depth-1>0){var child_nodes=_perft(depth-1);nodes+=child_nodes}else nodes++;undo_move()}return nodes}var BLACK="b",WHITE="w",EMPTY=-1,PAWN="p",KNIGHT="n",BISHOP="b",ROOK="r",QUEEN="q",KING="k",SYMBOLS="pnbrqkPNBRQK",DEFAULT_POSITION="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",POSSIBLE_RESULTS=["1-0","0-1","1/2-1/2","*"],PAWN_OFFSETS={b:[16,32,17,15],w:[-16,-32,-17,-15]},PIECE_OFFSETS={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},ATTACKS=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],RAYS=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],SHIFTS={p:0,n:1,b:2,r:3,q:4,k:5},FLAGS={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q"},BITS={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64},RANK_1=7,RANK_2=6,RANK_7=1,RANK_8=0,SQUARES={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},ROOKS={w:[{square:SQUARES.a1,flag:BITS.QSIDE_CASTLE},{square:SQUARES.h1,flag:BITS.KSIDE_CASTLE}],b:[{square:SQUARES.a8,flag:BITS.QSIDE_CASTLE},{square:SQUARES.h8,flag:BITS.KSIDE_CASTLE}]},board=new Array(128),kings={w:EMPTY,b:EMPTY},_turn=WHITE,castling={w:0,b:0},ep_square=EMPTY,half_moves=0,move_number=1,_history=[],header={};return _load(void 0===fen?DEFAULT_POSITION:fen),{WHITE:WHITE,BLACK:BLACK,PAWN:PAWN,KNIGHT:KNIGHT,BISHOP:BISHOP,ROOK:ROOK,QUEEN:QUEEN,KING:KING,SQUARES:function(){for(var keys=[],i=SQUARES.a8;i<=SQUARES.h1;i++)136&i?i+=7:keys.push(algebraic(i));return keys}(),FLAGS:FLAGS,load:function(fen){return _load(fen)},reset:function(){return _reset()},moves:function(options){for(var ugly_moves=generate_moves(options),moves=[],i=0,len=ugly_moves.length;i<len;i++)void 0!==options&&"verbose"in options&&options.verbose?moves.push(make_pretty(ugly_moves[i])):moves.push(move_to_san(ugly_moves[i],!1));return moves},in_check:function(){return _in_check()},in_checkmate:function(){return _in_checkmate()},in_stalemate:function(){return _in_stalemate()},in_draw:function(){return half_moves>=100||_in_stalemate()||_insufficient_material()||_in_threefold_repetition()},insufficient_material:function(){return _insufficient_material()},in_threefold_repetition:function(){return _in_threefold_repetition()},game_over:function(){return half_moves>=100||_in_checkmate()||_in_stalemate()||_insufficient_material()||_in_threefold_repetition()},validate_fen:function(fen){return _validate_fen(fen)},fen:function(){return generate_fen()},pgn:function(options){var newline="object"===(void 0===options?"undefined":_typeof(options))&&"string"==typeof options.newline_char?options.newline_char:"\n",max_width="object"===(void 0===options?"undefined":_typeof(options))&&"number"==typeof options.max_width?options.max_width:0,result=[],header_exists=!1;for(var i in header)result.push("["+i+' "'+header[i]+'"]'+newline),header_exists=!0;header_exists&&_history.length&&result.push(newline);for(var reversed_history=[];_history.length>0;)reversed_history.push(undo_move());for(var moves=[],move_string="";reversed_history.length>0;){var move=reversed_history.pop();_history.length||"b"!==move.color?"w"===move.color&&(move_string.length&&moves.push(move_string),move_string=move_number+"."):move_string=move_number+". ...",move_string=move_string+" "+move_to_san(move,!1),make_move(move)}if(move_string.length&&moves.push(move_string),void 0!==header.Result&&moves.push(header.Result),0===max_width)return result.join("")+moves.join(" ");for(var current_width=0,i=0;i<moves.length;i++)current_width+moves[i].length>max_width&&0!==i?(" "===result[result.length-1]&&result.pop(),result.push(newline),current_width=0):0!==i&&(result.push(" "),current_width++),result.push(moves[i]),current_width+=moves[i].length;return result.join("")},load_pgn:function(pgn,options){function mask(str){return str.replace(/\\/g,"\\")}var sloppy=void 0!==options&&"sloppy"in options&&options.sloppy,newline_char="object"===(void 0===options?"undefined":_typeof(options))&&"string"==typeof options.newline_char?options.newline_char:"\r?\n",regex=new RegExp("^(\\[(.|"+mask(newline_char)+")*\\])("+mask(newline_char)+")*1.("+mask(newline_char)+"|.)*$","g"),header_string=pgn.replace(regex,"$1");"["!==header_string[0]&&(header_string=""),_reset();var headers=function(header,options){for(var newline_char="object"===(void 0===options?"undefined":_typeof(options))&&"string"==typeof options.newline_char?options.newline_char:"\r?\n",header_obj={},headers=header.split(new RegExp(mask(newline_char))),key="",value="",i=0;i<headers.length;i++)key=headers[i].replace(/^\[([A-Z][A-Za-z]*)\s.*\]$/,"$1"),value=headers[i].replace(/^\[[A-Za-z]+\s"(.*)"\]$/,"$1"),trim(key).length>0&&(header_obj[key]=value);return header_obj}(header_string,options);for(var key in headers)set_header([key,headers[key]]);if("1"===headers.SetUp&&!("FEN"in headers&&_load(headers.FEN)))return!1;var ms=pgn.replace(header_string,"").replace(new RegExp(mask(newline_char),"g")," ");ms=ms.replace(/(\{[^}]+\})+?/g,"");for(var rav_regex=/(\([^\(\)]+\))+?/g;rav_regex.test(ms);)ms=ms.replace(rav_regex,"");ms=ms.replace(/\d+\.(\.\.)?/g,""),ms=ms.replace(/\.\.\./g,""),ms=ms.replace(/\$\d+/g,"");var moves=trim(ms).split(new RegExp(/\s+/));moves=moves.join(",").replace(/,,+/g,",").split(",");for(var move="",half_move=0;half_move<moves.length-1;half_move++){if(null==(move=move_from_san(moves[half_move],sloppy)))return!1;make_move(move)}if(move=moves[moves.length-1],POSSIBLE_RESULTS.indexOf(move)>-1)(function(object){for(var key in object)return!0;return!1})(header)&&void 0===header.Result&&set_header(["Result",move]);else{if(null==(move=move_from_san(move,sloppy)))return!1;make_move(move)}return!0},header:function(){return set_header(arguments)},ascii:function(){return _ascii()},turn:function(){return _turn},move:function(_move,options){var sloppy=void 0!==options&&"sloppy"in options&&options.sloppy,move_obj=null;if("string"==typeof _move)move_obj=move_from_san(_move,sloppy);else if("object"===(void 0===_move?"undefined":_typeof(_move)))for(var moves=generate_moves(),i=0,len=moves.length;i<len;i++)if(!(_move.from!==algebraic(moves[i].from)||_move.to!==algebraic(moves[i].to)||"promotion"in moves[i]&&_move.promotion!==moves[i].promotion)){move_obj=moves[i];break}if(!move_obj)return null;var pretty_move=make_pretty(move_obj);return make_move(move_obj),pretty_move},undo:function(){var move=undo_move();return move?make_pretty(move):null},clear:function(){return _clear()},put:function(piece,square){return _put(piece,square)},get:function(square){return _get(square)},remove:function(square){return _remove(square)},perft:function(depth){return _perft(depth)},square_color:function(square){if(square in SQUARES){var sq_0x88=SQUARES[square];return(rank(sq_0x88)+file(sq_0x88))%2==0?"light":"dark"}return null},history:function(options){for(var reversed_history=[],move_history=[],verbose=(void 0!==options&&"verbose"in options&&options.verbose);_history.length>0;)reversed_history.push(undo_move());for(;reversed_history.length>0;){var move=reversed_history.pop();verbose?move_history.push(make_pretty(move)):move_history.push(move_to_san(move)),make_move(move)}return move_history}}};exports.Chess=Chess,void 0!==(__WEBPACK_AMD_DEFINE_RESULT__=function(){return Chess}.call(exports,__webpack_require__,exports,module))&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(module,__webpack_exports__,__webpack_require__){"use strict";function start(state,redrawAll){function toggleOrientation(){__WEBPACK_IMPORTED_MODULE_0__board__.a(state),redrawAll()}return{set:function(config){config.orientation&&config.orientation!==state.orientation&&toggleOrientation(),(config.fen?__WEBPACK_IMPORTED_MODULE_3__anim__.a:__WEBPACK_IMPORTED_MODULE_3__anim__.b)(function(state){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__config__.a)(state,config)},state)},state:state,getFen:function(){return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__fen__.a)(state.pieces)},toggleOrientation:toggleOrientation,setPieces:function(pieces){__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__anim__.a)(function(state){return __WEBPACK_IMPORTED_MODULE_0__board__.b(state,pieces)},state)},selectSquare:function(key,force){key?__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__anim__.a)(function(state){return __WEBPACK_IMPORTED_MODULE_0__board__.c(state,key,force)},state):state.selected&&(__WEBPACK_IMPORTED_MODULE_0__board__.d(state),state.dom.redraw())},move:function(orig,dest){__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__anim__.a)(function(state){return __WEBPACK_IMPORTED_MODULE_0__board__.e(state,orig,dest)},state)},newPiece:function(piece,key){__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__anim__.a)(function(state){return __WEBPACK_IMPORTED_MODULE_0__board__.f(state,piece,key)},state)},playPremove:function(){if(state.premovable.current){if(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__anim__.a)(__WEBPACK_IMPORTED_MODULE_0__board__.g,state))return!0;state.dom.redraw()}return!1},playPredrop:function(validate){if(state.predroppable.current){var result=__WEBPACK_IMPORTED_MODULE_0__board__.h(state,validate);return state.dom.redraw(),result}return!1},cancelPremove:function(){__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__anim__.b)(__WEBPACK_IMPORTED_MODULE_0__board__.i,state)},cancelPredrop:function(){__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__anim__.b)(__WEBPACK_IMPORTED_MODULE_0__board__.j,state)},cancelMove:function(){__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__anim__.b)(function(state){__WEBPACK_IMPORTED_MODULE_0__board__.k(state),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__drag__.a)(state)},state)},stop:function(){__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__anim__.b)(function(state){__WEBPACK_IMPORTED_MODULE_0__board__.l(state),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__drag__.a)(state)},state)},explode:function(keys){__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__explosion__.a)(state,keys)},setAutoShapes:function(shapes){__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__anim__.b)(function(state){return state.drawable.autoShapes=shapes},state)},setShapes:function(shapes){__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__anim__.b)(function(state){return state.drawable.shapes=shapes},state)},getKeyAtDomPos:function(pos){return __WEBPACK_IMPORTED_MODULE_0__board__.m(pos,__WEBPACK_IMPORTED_MODULE_0__board__.n(state),state.dom.bounds())},redrawAll:redrawAll,dragNewPiece:function(piece,event,force){__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_4__drag__.b)(state,piece,event,force)},destroy:function(){__WEBPACK_IMPORTED_MODULE_0__board__.l(state),state.dom.unbind&&state.dom.unbind(),state.dom.destroyed=!0}}}__webpack_exports__.a=start;var __WEBPACK_IMPORTED_MODULE_0__board__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_1__fen__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_2__config__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_3__anim__=__webpack_require__(5),__WEBPACK_IMPORTED_MODULE_4__drag__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_5__explosion__=__webpack_require__(15)},function(module,__webpack_exports__,__webpack_require__){"use strict";function Chessground(element,config){function redrawAll(){var prevUnbind="dom"in maybeState?maybeState.dom.unbind:void 0,relative=maybeState.viewOnly&&!maybeState.drawable.visible,elements=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__wrap__.a)(element,maybeState,relative),bounds=__WEBPACK_IMPORTED_MODULE_7__util__.a(function(){return elements.board.getBoundingClientRect()}),redrawNow=function(skipSvg){__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__render__.a)(state),!skipSvg&&elements.svg&&__WEBPACK_IMPORTED_MODULE_6__svg__.a(state,elements.svg,elements.customSvg)},boundsUpdated=function(){bounds.clear(),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5__render__.b)(state),elements.svg&&__WEBPACK_IMPORTED_MODULE_6__svg__.a(state,elements.svg,elements.customSvg)},state=maybeState;return state.dom={elements:elements,bounds:bounds,redraw:debounceRedraw(redrawNow),redrawNow:redrawNow,unbind:prevUnbind,relative:relative},state.drawable.prevSvgHash="",redrawNow(!1),__WEBPACK_IMPORTED_MODULE_4__events__.a(state,boundsUpdated),prevUnbind||(state.dom.unbind=__WEBPACK_IMPORTED_MODULE_4__events__.b(state,boundsUpdated)),state.events.insert&&state.events.insert(elements),state}var maybeState=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__state__.a)();return __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__config__.a)(maybeState,config||{}),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__api__.a)(redrawAll(),redrawAll)}function debounceRedraw(redrawNow){var redrawing=!1;return function(){redrawing||(redrawing=!0,requestAnimationFrame(function(){redrawNow(),redrawing=!1}))}}__webpack_exports__.a=Chessground;var __WEBPACK_IMPORTED_MODULE_0__api__=__webpack_require__(11),__WEBPACK_IMPORTED_MODULE_1__config__=__webpack_require__(6),__WEBPACK_IMPORTED_MODULE_2__state__=__webpack_require__(18),__WEBPACK_IMPORTED_MODULE_3__wrap__=__webpack_require__(19),__WEBPACK_IMPORTED_MODULE_4__events__=__webpack_require__(14),__WEBPACK_IMPORTED_MODULE_5__render__=__webpack_require__(17),__WEBPACK_IMPORTED_MODULE_6__svg__=__webpack_require__(8),__WEBPACK_IMPORTED_MODULE_7__util__=__webpack_require__(0)},function(module,__webpack_exports__,__webpack_require__){"use strict";function drop(s,e){if(s.dropmode.active){__WEBPACK_IMPORTED_MODULE_0__board__.i(s),__WEBPACK_IMPORTED_MODULE_0__board__.j(s);var piece=s.dropmode.piece;if(piece){s.pieces.set("a0",piece);var position=__WEBPACK_IMPORTED_MODULE_1__util__.b(e),dest=position&&__WEBPACK_IMPORTED_MODULE_0__board__.m(position,__WEBPACK_IMPORTED_MODULE_0__board__.n(s),s.dom.bounds());dest&&__WEBPACK_IMPORTED_MODULE_0__board__.q(s,"a0",dest)}s.dom.redraw()}}__webpack_exports__.a=drop;var __WEBPACK_IMPORTED_MODULE_0__board__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_1__util__=__webpack_require__(0);__webpack_require__(2)},function(module,__webpack_exports__,__webpack_require__){"use strict";function bindBoard(s,boundsUpdated){var boardEl=s.dom.elements.board;if(!s.dom.relative&&s.resizable&&"ResizeObserver"in window){new window.ResizeObserver(boundsUpdated).observe(boardEl)}if(!s.viewOnly){var onStart=startDragOrDraw(s);boardEl.addEventListener("touchstart",onStart,{passive:!1}),boardEl.addEventListener("mousedown",onStart,{passive:!1}),(s.disableContextMenu||s.drawable.enabled)&&boardEl.addEventListener("contextmenu",function(e){return e.preventDefault()})}}function bindDocument(s,boundsUpdated){var unbinds=[];if(s.dom.relative||!s.resizable||"ResizeObserver"in window||unbinds.push(unbindable(document.body,"chessground.resize",boundsUpdated)),!s.viewOnly){for(var onmove=dragOrDraw(s,__WEBPACK_IMPORTED_MODULE_0__drag__.c,__WEBPACK_IMPORTED_MODULE_1__draw__.b),onend=dragOrDraw(s,__WEBPACK_IMPORTED_MODULE_0__drag__.d,__WEBPACK_IMPORTED_MODULE_1__draw__.c),_arr=["touchmove","mousemove"],_i=0;_i<_arr.length;_i++){var ev=_arr[_i];unbinds.push(unbindable(document,ev,onmove))}for(var _arr2=["touchend","mouseup"],_i2=0;_i2<_arr2.length;_i2++){var _ev=_arr2[_i2];unbinds.push(unbindable(document,_ev,onend))}var onScroll=function(){return s.dom.bounds.clear()};unbinds.push(unbindable(document,"scroll",onScroll,{capture:!0,passive:!0})),unbinds.push(unbindable(window,"resize",onScroll,{passive:!0}))}return function(){return unbinds.forEach(function(f){return f()})}}function unbindable(el,eventName,callback,options){return el.addEventListener(eventName,callback,options),function(){return el.removeEventListener(eventName,callback,options)}}function startDragOrDraw(s){return function(e){s.draggable.current?__WEBPACK_IMPORTED_MODULE_0__drag__.a(s):s.drawable.current?__WEBPACK_IMPORTED_MODULE_1__draw__.d(s):e.shiftKey||__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_3__util__.m)(e)?s.drawable.enabled&&__WEBPACK_IMPORTED_MODULE_1__draw__.e(s,e):s.viewOnly||(s.dropmode.active?__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__drop__.a)(s,e):__WEBPACK_IMPORTED_MODULE_0__drag__.e(s,e))}}function dragOrDraw(s,withDrag,withDraw){return function(e){s.drawable.current?s.drawable.enabled&&withDraw(s,e):s.viewOnly||withDrag(s,e)}}__webpack_exports__.a=bindBoard,__webpack_exports__.b=bindDocument;var __WEBPACK_IMPORTED_MODULE_0__drag__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_1__draw__=__webpack_require__(7),__WEBPACK_IMPORTED_MODULE_2__drop__=__webpack_require__(13),__WEBPACK_IMPORTED_MODULE_3__util__=__webpack_require__(0)},function(module,__webpack_exports__,__webpack_require__){"use strict";function explosion(state,keys){state.exploding={stage:1,keys:keys},state.dom.redraw(),setTimeout(function(){setStage(state,2),setTimeout(function(){return setStage(state,void 0)},120)},120)}function setStage(state,stage){state.exploding&&(stage?state.exploding.stage=stage:state.exploding=void 0,state.dom.redraw())}__webpack_exports__.a=explosion},function(module,__webpack_exports__,__webpack_require__){"use strict";function diff(a,b){return Math.abs(a-b)}function pawn(color){return function(x1,y1,x2,y2){return diff(x1,x2)<2&&("white"===color?y2===y1+1||y1<=1&&y2===y1+2&&x1===x2:y2===y1-1||y1>=6&&y2===y1-2&&x1===x2)}}function king(color,rookFiles,canCastle){return function(x1,y1,x2,y2){return diff(x1,x2)<2&&diff(y1,y2)<2||canCastle&&y1===y2&&y1===("white"===color?0:7)&&(4===x1&&(2===x2&&rookFiles.includes(0)||6===x2&&rookFiles.includes(7))||rookFiles.includes(x2))}}function rookFilesOf(pieces,color){var backrank="white"===color?"1":"8",files=[],_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=pieces[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var _step$value=_slicedToArray(_step.value,2),key=_step$value[0],piece=_step$value[1];key[1]===backrank&&piece.color===color&&"rook"===piece.role&&files.push(__WEBPACK_IMPORTED_MODULE_0__util__.e(key)[0])}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return files}function premove(pieces,key,canCastle){var piece=pieces.get(key);if(!piece)return[];var pos=__WEBPACK_IMPORTED_MODULE_0__util__.e(key),r=piece.role,mobility="pawn"===r?pawn(piece.color):"knight"===r?knight:"bishop"===r?bishop:"rook"===r?rook:"queen"===r?queen:king(piece.color,rookFilesOf(pieces,piece.color),canCastle);return __WEBPACK_IMPORTED_MODULE_0__util__.l.filter(function(pos2){return(pos[0]!==pos2[0]||pos[1]!==pos2[1])&&mobility(pos[0],pos[1],pos2[0],pos2[1])}).map(__WEBPACK_IMPORTED_MODULE_0__util__.k)}__webpack_require__.d(__webpack_exports__,"c",function(){return knight}),__webpack_require__.d(__webpack_exports__,"b",function(){return queen}),__webpack_exports__.a=premove;var __WEBPACK_IMPORTED_MODULE_0__util__=__webpack_require__(0),_slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),knight=function(x1,y1,x2,y2){var xd=diff(x1,x2),yd=diff(y1,y2);return 1===xd&&2===yd||2===xd&&1===yd},bishop=function(x1,y1,x2,y2){return diff(x1,x2)===diff(y1,y2)},rook=function(x1,y1,x2,y2){return x1===x2||y1===y2},queen=function(x1,y1,x2,y2){return bishop(x1,y1,x2,y2)||rook(x1,y1,x2,y2)}},function(module,__webpack_exports__,__webpack_require__){"use strict";function render(s){var asWhite=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__board__.n)(s),posToTranslate=s.dom.relative?__WEBPACK_IMPORTED_MODULE_0__util__.p:__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util__.d)(s.dom.bounds()),translate=s.dom.relative?__WEBPACK_IMPORTED_MODULE_0__util__.q:__WEBPACK_IMPORTED_MODULE_0__util__.c,boardEl=s.dom.elements.board,pieces=s.pieces,curAnim=s.animation.current,anims=curAnim?curAnim.plan.anims:new Map,fadings=curAnim?curAnim.plan.fadings:new Map,curDrag=s.draggable.current,squares=computeSquareClasses(s),samePieces=new Set,sameSquares=new Set,movedPieces=new Map,movedSquares=new Map,k=void 0,el=void 0,pieceAtKey=void 0,elPieceName=void 0,anim=void 0,fading=void 0,pMvdset=void 0,pMvd=void 0,sMvdset=void 0,sMvd=void 0;for(el=boardEl.firstChild;el;){if(k=el.cgKey,isPieceNode(el))if(pieceAtKey=pieces.get(k),anim=anims.get(k),fading=fadings.get(k),elPieceName=el.cgPiece,!el.cgDragging||curDrag&&curDrag.orig===k||(el.classList.remove("dragging"),translate(el,posToTranslate(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util__.e)(k),asWhite)),el.cgDragging=!1),!fading&&el.cgFading&&(el.cgFading=!1,el.classList.remove("fading")),pieceAtKey){if(anim&&el.cgAnimating&&elPieceName===pieceNameOf(pieceAtKey)){var pos=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util__.e)(k);pos[0]+=anim[2],pos[1]+=anim[3],el.classList.add("anim"),translate(el,posToTranslate(pos,asWhite))}else el.cgAnimating&&(el.cgAnimating=!1,el.classList.remove("anim"),translate(el,posToTranslate(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util__.e)(k),asWhite)),s.addPieceZIndex&&(el.style.zIndex=posZIndex(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util__.e)(k),asWhite)));elPieceName!==pieceNameOf(pieceAtKey)||fading&&el.cgFading?fading&&elPieceName===pieceNameOf(fading)?(el.classList.add("fading"),el.cgFading=!0):appendValue(movedPieces,elPieceName,el):samePieces.add(k)}else appendValue(movedPieces,elPieceName,el);else if(isSquareNode(el)){var cn=el.className;squares.get(k)===cn?sameSquares.add(k):appendValue(movedSquares,cn,el)}el=el.nextSibling}var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=squares[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var _step$value=_slicedToArray(_step.value,2),sk=_step$value[0],className=_step$value[1];if(!sameSquares.has(sk)){sMvdset=movedSquares.get(className),sMvd=sMvdset&&sMvdset.pop();var translation=posToTranslate(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util__.e)(sk),asWhite);if(sMvd)sMvd.cgKey=sk,translate(sMvd,translation);else{var squareNode=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util__.r)("square",className);squareNode.cgKey=sk,translate(squareNode,translation),boardEl.insertBefore(squareNode,boardEl.firstChild)}}}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}var _iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=pieces[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var _step2$value=_slicedToArray(_step2.value,2),_k=_step2$value[0],p=_step2$value[1];if(anim=anims.get(_k),!samePieces.has(_k))if(pMvdset=movedPieces.get(pieceNameOf(p)),pMvd=pMvdset&&pMvdset.pop()){pMvd.cgKey=_k,pMvd.cgFading&&(pMvd.classList.remove("fading"),pMvd.cgFading=!1);var _pos=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util__.e)(_k);s.addPieceZIndex&&(pMvd.style.zIndex=posZIndex(_pos,asWhite)),anim&&(pMvd.cgAnimating=!0,pMvd.classList.add("anim"),_pos[0]+=anim[2],_pos[1]+=anim[3]),translate(pMvd,posToTranslate(_pos,asWhite))}else{var pieceName=pieceNameOf(p),pieceNode=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util__.r)("piece",pieceName),_pos2=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util__.e)(_k);pieceNode.cgPiece=pieceName,pieceNode.cgKey=_k,anim&&(pieceNode.cgAnimating=!0,_pos2[0]+=anim[2],_pos2[1]+=anim[3]),translate(pieceNode,posToTranslate(_pos2,asWhite)),s.addPieceZIndex&&(pieceNode.style.zIndex=posZIndex(_pos2,asWhite)),boardEl.appendChild(pieceNode)}}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}var _iteratorNormalCompletion3=!0,_didIteratorError3=!1,_iteratorError3=void 0;try{for(var _step3,_iterator3=movedPieces.values()[Symbol.iterator]();!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=!0){removeNodes(s,_step3.value)}}catch(err){_didIteratorError3=!0,_iteratorError3=err}finally{try{!_iteratorNormalCompletion3&&_iterator3.return&&_iterator3.return()}finally{if(_didIteratorError3)throw _iteratorError3}}var _iteratorNormalCompletion4=!0,_didIteratorError4=!1,_iteratorError4=void 0;try{for(var _step4,_iterator4=movedSquares.values()[Symbol.iterator]();!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=!0){removeNodes(s,_step4.value)}}catch(err){_didIteratorError4=!0,_iteratorError4=err}finally{try{!_iteratorNormalCompletion4&&_iterator4.return&&_iterator4.return()}finally{if(_didIteratorError4)throw _iteratorError4}}}function updateBounds(s){if(!s.dom.relative)for(var asWhite=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__board__.n)(s),posToTranslate=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util__.d)(s.dom.bounds()),el=s.dom.elements.board.firstChild;el;)(isPieceNode(el)&&!el.cgAnimating||isSquareNode(el))&&__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util__.c)(el,posToTranslate(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util__.e)(el.cgKey),asWhite)),el=el.nextSibling}function isPieceNode(el){return"PIECE"===el.tagName}function isSquareNode(el){return"SQUARE"===el.tagName}function removeNodes(s,nodes){var _iteratorNormalCompletion5=!0,_didIteratorError5=!1,_iteratorError5=void 0;try{for(var _step5,_iterator5=nodes[Symbol.iterator]();!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=!0){var node=_step5.value;s.dom.elements.board.removeChild(node)}}catch(err){_didIteratorError5=!0,_iteratorError5=err}finally{try{!_iteratorNormalCompletion5&&_iterator5.return&&_iterator5.return()}finally{if(_didIteratorError5)throw _iteratorError5}}}function posZIndex(pos,asWhite){var z=2+8*pos[1]+(7-pos[0]);return asWhite&&(z=67-z),z+""}function pieceNameOf(piece){return piece.color+" "+piece.role}function computeSquareClasses(s){var _a,squares=new Map;if(s.lastMove&&s.highlight.lastMove){var _iteratorNormalCompletion6=!0,_didIteratorError6=!1,_iteratorError6=void 0;try{for(var _step6,_iterator6=s.lastMove[Symbol.iterator]();!(_iteratorNormalCompletion6=(_step6=_iterator6.next()).done);_iteratorNormalCompletion6=!0){addSquare(squares,_step6.value,"last-move")}}catch(err){_didIteratorError6=!0,_iteratorError6=err}finally{try{!_iteratorNormalCompletion6&&_iterator6.return&&_iterator6.return()}finally{if(_didIteratorError6)throw _iteratorError6}}}if(s.check&&s.highlight.check&&addSquare(squares,s.check,"check"),s.selected&&(addSquare(squares,s.selected,"selected"),s.movable.showDests)){var dests=null===(_a=s.movable.dests)||void 0===_a?void 0:_a.get(s.selected);if(dests){var _iteratorNormalCompletion7=!0,_didIteratorError7=!1,_iteratorError7=void 0;try{for(var _step7,_iterator7=dests[Symbol.iterator]();!(_iteratorNormalCompletion7=(_step7=_iterator7.next()).done);_iteratorNormalCompletion7=!0){var _k3=_step7.value;addSquare(squares,_k3,"move-dest"+(s.pieces.has(_k3)?" oc":""))}}catch(err){_didIteratorError7=!0,_iteratorError7=err}finally{try{!_iteratorNormalCompletion7&&_iterator7.return&&_iterator7.return()}finally{if(_didIteratorError7)throw _iteratorError7}}}var pDests=s.premovable.dests;if(pDests){var _iteratorNormalCompletion8=!0,_didIteratorError8=!1,_iteratorError8=void 0;try{for(var _step8,_iterator8=pDests[Symbol.iterator]();!(_iteratorNormalCompletion8=(_step8=_iterator8.next()).done);_iteratorNormalCompletion8=!0){var _k4=_step8.value;addSquare(squares,_k4,"premove-dest"+(s.pieces.has(_k4)?" oc":""))}}catch(err){_didIteratorError8=!0,_iteratorError8=err}finally{try{!_iteratorNormalCompletion8&&_iterator8.return&&_iterator8.return()}finally{if(_didIteratorError8)throw _iteratorError8}}}}var premove=s.premovable.current;if(premove){var _iteratorNormalCompletion9=!0,_didIteratorError9=!1,_iteratorError9=void 0;try{for(var _step9,_iterator9=premove[Symbol.iterator]();!(_iteratorNormalCompletion9=(_step9=_iterator9.next()).done);_iteratorNormalCompletion9=!0){addSquare(squares,_step9.value,"current-premove")}}catch(err){_didIteratorError9=!0,_iteratorError9=err}finally{try{!_iteratorNormalCompletion9&&_iterator9.return&&_iterator9.return()}finally{if(_didIteratorError9)throw _iteratorError9}}}else s.predroppable.current&&addSquare(squares,s.predroppable.current.key,"current-premove");var o=s.exploding;if(o){var _iteratorNormalCompletion10=!0,_didIteratorError10=!1,_iteratorError10=void 0;try{for(var _step10,_iterator10=o.keys[Symbol.iterator]();!(_iteratorNormalCompletion10=(_step10=_iterator10.next()).done);_iteratorNormalCompletion10=!0){addSquare(squares,_step10.value,"exploding"+o.stage)}}catch(err){_didIteratorError10=!0,_iteratorError10=err}finally{try{!_iteratorNormalCompletion10&&_iterator10.return&&_iterator10.return()}finally{if(_didIteratorError10)throw _iteratorError10}}}return squares}function addSquare(squares,key,klass){var classes=squares.get(key);classes?squares.set(key,classes+" "+klass):squares.set(key,klass)}function appendValue(map,key,value){var arr=map.get(key);arr?arr.push(value):map.set(key,[value])}__webpack_exports__.a=render,__webpack_exports__.b=updateBounds;var __WEBPACK_IMPORTED_MODULE_0__util__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_1__board__=__webpack_require__(1),_slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(module,__webpack_exports__,__webpack_require__){"use strict";function defaults(){return{pieces:__WEBPACK_IMPORTED_MODULE_0__fen__.b(__WEBPACK_IMPORTED_MODULE_0__fen__.c),orientation:"white",turnColor:"white",coordinates:!0,autoCastle:!0,viewOnly:!1,disableContextMenu:!1,resizable:!0,addPieceZIndex:!1,pieceKey:!1,highlight:{lastMove:!0,check:!0},animation:{enabled:!0,duration:200},movable:{free:!0,color:"both",showDests:!0,events:{},rookCastle:!0},premovable:{enabled:!0,showDests:!0,castle:!0,events:{}},predroppable:{enabled:!1,events:{}},draggable:{enabled:!0,distance:3,autoDistance:!0,showGhost:!0,deleteOnDropOff:!1},dropmode:{active:!1},selectable:{enabled:!0},stats:{dragged:!("ontouchstart"in window)},events:{},drawable:{enabled:!0,visible:!0,defaultSnapToValidMove:!0,eraseOnClick:!0,shapes:[],autoShapes:[],brushes:{green:{key:"g",color:"#15781B",opacity:1,lineWidth:10},red:{key:"r",color:"#882020",opacity:1,lineWidth:10},blue:{key:"b",color:"#003088",opacity:1,lineWidth:10},yellow:{key:"y",color:"#e68f00",opacity:1,lineWidth:10},paleBlue:{key:"pb",color:"#003088",opacity:.4,lineWidth:15},paleGreen:{key:"pg",color:"#15781B",opacity:.4,lineWidth:15},paleRed:{key:"pr",color:"#882020",opacity:.4,lineWidth:15},paleGrey:{key:"pgr",color:"#4a4a4a",opacity:.35,lineWidth:15}},pieces:{baseUrl:"https://lichess1.org/assets/piece/cburnett/"},prevSvgHash:""},hold:__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__util__.s)()}}__webpack_exports__.a=defaults;var __WEBPACK_IMPORTED_MODULE_0__fen__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_1__util__=__webpack_require__(0)},function(module,__webpack_exports__,__webpack_require__){"use strict";function renderWrap(element,s,relative){element.innerHTML="",element.classList.add("cg-wrap");var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=__WEBPACK_IMPORTED_MODULE_1__types__.c[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var c=_step.value;element.classList.toggle("orientation-"+c,s.orientation===c)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}element.classList.toggle("manipulable",!s.viewOnly);var helper=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util__.r)("cg-helper");element.appendChild(helper);var container=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util__.r)("cg-container");helper.appendChild(container);var board=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util__.r)("cg-board");container.appendChild(board);var svg=void 0,customSvg=void 0;if(s.drawable.visible&&!relative&&(svg=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__svg__.b)(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__svg__.c)("svg"),{class:"cg-shapes"}),svg.appendChild(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__svg__.c)("defs")),svg.appendChild(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__svg__.c)("g")),customSvg=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__svg__.b)(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__svg__.c)("svg"),{class:"cg-custom-svgs"}),customSvg.appendChild(__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__svg__.c)("g")),container.appendChild(svg),container.appendChild(customSvg)),s.coordinates){var orientClass="black"===s.orientation?" black":"";container.appendChild(renderCoords(__WEBPACK_IMPORTED_MODULE_1__types__.a,"ranks"+orientClass)),container.appendChild(renderCoords(__WEBPACK_IMPORTED_MODULE_1__types__.b,"files"+orientClass))}var ghost=void 0;return s.draggable.showGhost&&!relative&&(ghost=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util__.r)("piece","ghost"),__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util__.f)(ghost,!1),container.appendChild(ghost)),{board:board,container:container,ghost:ghost,svg:svg,customSvg:customSvg}}function renderCoords(elems,className){var el=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util__.r)("coords",className),f=void 0,_iteratorNormalCompletion2=!0,_didIteratorError2=!1,_iteratorError2=void 0;try{for(var _step2,_iterator2=elems[Symbol.iterator]();!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=!0){var elem=_step2.value;f=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__util__.r)("coord"),f.textContent=elem,el.appendChild(f)}}catch(err){_didIteratorError2=!0,_iteratorError2=err}finally{try{!_iteratorNormalCompletion2&&_iterator2.return&&_iterator2.return()}finally{if(_didIteratorError2)throw _iteratorError2}}return el}__webpack_exports__.a=renderWrap;var __WEBPACK_IMPORTED_MODULE_0__util__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_1__types__=__webpack_require__(4),__WEBPACK_IMPORTED_MODULE_2__svg__=__webpack_require__(8)},function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0_chess_js__=__webpack_require__(10),__WEBPACK_IMPORTED_MODULE_0_chess_js___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_chess_js__),__WEBPACK_IMPORTED_MODULE_1_chessground__=__webpack_require__(12),__WEBPACK_IMPORTED_MODULE_2__Util_js__=__webpack_require__(21);__webpack_exports__.default={name:"chessboard",props:{fen:{type:String,default:""},free:{type:Boolean,default:!1},showThreats:{type:Boolean,default:!1},onPromotion:{type:Function,default:function(){return"q"}},orientation:{type:String,default:"white"}},watch:{fen:function(newFen){this.fen=newFen,this.loadPosition()},orientation:function(_orientation){this.orientation=_orientation,this.loadPosition()},showThreats:function(st){this.showThreats=st,this.showThreats&&this.paintThreats()}},methods:{possibleMoves:function(){var _this=this,dests=new Map;return this.game.SQUARES.forEach(function(s){var ms=_this.game.moves({square:s,verbose:!0});ms.length&&dests.set(s,ms.map(function(m){return m.to}))}),dests},opponentMoves:function(){var originalPGN=this.game.pgn(),tokens=this.game.fen().split(" ");if(tokens[1]="w"===tokens[1]?"b":"w",tokens=tokens.join(" "),this.game.load(tokens)){var moves=this.game.moves({verbose:!0});return this.game.load_pgn(originalPGN),moves}return[]},toColor:function(){return"w"===this.game.turn()?"white":"black"},paintThreats:function(){var moves=this.game.moves({verbose:!0}),threats=[];moves.forEach(function(move){threats.push({orig:move.to,brush:"yellow"}),move.captured&&threats.push({orig:move.from,dest:move.to,brush:"red"}),move.san.includes("+")&&threats.push({orig:move.from,dest:move.to,brush:"blue"})}),this.board.setShapes(threats)},calculatePromotions:function(){var moves=this.game.moves({verbose:!0});this.promotions=[];var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=moves[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var move=_step.value;move.promotion&&this.promotions.push(move)}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}},isPromotion:function(orig,dest){return this.promotions.filter(function(move){return move.from===orig&&move.to===dest}).length>0},changeTurn:function(){var _this2=this;return function(orig,dest){_this2.isPromotion(orig,dest)&&(_this2.promoteTo=_this2.onPromotion()),_this2.game.move({from:orig,to:dest,promotion:_this2.promoteTo}),_this2.board.set({fen:_this2.game.fen(),turnColor:_this2.toColor(),movable:{color:_this2.toColor(),dests:_this2.possibleMoves()}}),_this2.calculatePromotions(),_this2.afterMove()}},afterMove:function(){this.showThreats&&this.paintThreats(),this.game.in_check()&&this.board.set({check:!0});var threats=this.countThreats(this.toColor())||{};threats.history=this.game.history(),threats.fen=this.game.fen(),this.$emit("onMove",threats)},countThreats:function(color){var threats={},captures=0,checks=0,moves=this.game.moves({verbose:!0});return color!==this.toColor()&&(moves=this.opponentMoves()),0===moves.length?null:(moves.forEach(function(move){move.captured&&captures++,move.san.includes("+")&&checks++}),threats["legal_"+color]=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__Util_js__.a)(moves.map(function(x){return x.from+x.to})).length,threats["checks_"+color]=checks,threats["threat_"+color]=captures,threats.turn=color,threats)},loadPosition:function(){this.game.load(this.fen),this.board=__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_chessground__.a)(this.$refs.board,{fen:this.game.fen(),turnColor:this.toColor(),movable:{color:this.toColor(),free:this.free,dests:this.possibleMoves()},highlight:{lastMove:!0,check:!0},orientation:this.orientation}),this.board.set({movable:{events:{after:this.changeTurn()}}}),this.afterMove()},addMove:function(move){this.game.move(move,{sloppy:!0})}},mounted:function(){this.loadPosition()},created:function(){this.game=new __WEBPACK_IMPORTED_MODULE_0_chess_js___default.a,this.board=null,this.promotions=[],this.promoteTo="q"}}},function(module,__webpack_exports__,__webpack_require__){"use strict";function uniques(arr){return arr.filter(function(elem,index,self){return index===self.indexOf(elem)})}__webpack_exports__.a=uniques},function(module,__webpack_exports__,__webpack_require__){"use strict";function install(Vue){Vue.component("chessboard",__WEBPACK_IMPORTED_MODULE_0__components_chessboard_index_vue___default.a)}Object.defineProperty(__webpack_exports__,"__esModule",{value:!0}),__webpack_exports__.install=install;var __WEBPACK_IMPORTED_MODULE_0__components_chessboard_index_vue__=__webpack_require__(9),__WEBPACK_IMPORTED_MODULE_0__components_chessboard_index_vue___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_chessboard_index_vue__);__webpack_require__.d(__webpack_exports__,"chessboard",function(){return __WEBPACK_IMPORTED_MODULE_0__components_chessboard_index_vue___default.a});var plugin={version:"0.6.7",install:install};__webpack_exports__.default=plugin;var GlobalVue=null;"undefined"!=typeof window?GlobalVue=window.Vue:"undefined"!=typeof global&&(GlobalVue=global.Vue),GlobalVue&&GlobalVue.use(plugin)},function(module,exports){module.exports=function(rawScriptExports,compiledTemplate,scopeId,cssModules){var esModule,scriptExports=rawScriptExports=rawScriptExports||{},type=typeof rawScriptExports.default;"object"!==type&&"function"!==type||(esModule=rawScriptExports,scriptExports=rawScriptExports.default);var options="function"==typeof scriptExports?scriptExports.options:scriptExports;if(compiledTemplate&&(options.render=compiledTemplate.render,options.staticRenderFns=compiledTemplate.staticRenderFns),scopeId&&(options._scopeId=scopeId),cssModules){var computed=options.computed||(options.computed={});Object.keys(cssModules).forEach(function(key){var module=cssModules[key];computed[key]=function(){return module}})}return{esModule:esModule,exports:scriptExports,options:options}}},function(module,exports){module.exports={render:function(){var _vm=this,_h=_vm.$createElement,_c=_vm._self._c||_h;return _c("div",{staticClass:"blue merida"},[_c("div",{ref:"board",staticClass:"cg-board-wrap"})])},staticRenderFns:[]}}]);